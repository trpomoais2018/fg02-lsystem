<!doctype html>
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta http-equiv="Cache-Control" content="no-cache"/>
	<script type = "text/javascript" src = "Lsystem.js"></script>
	<script>

		let context;

		function showBush() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForBush(), "F", 4);
			let alphabet = buildDictionaryWithActions(context, {x: 200, y: window.innerHeight-200, angle: 0 }, 20, Math.PI/8);
			drawFractal(context, line, alphabet);
		}

		function showSnowflake() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForSnowflake(), "[F]+[F]+[F]+[F]+[F]+[F]", 3);
			let alphabet = buildDictionaryWithActions(context, {x: window.innerWidth/2, y: window.innerHeight/2, angle: 0 }, 3, Math.PI/3);
			drawFractal(context, line, alphabet);
		}

		function showKoch() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForKoch(), "F++F++F", 5);
			let alphabet = buildDictionaryWithActions(context, {x: window.innerWidth/4, y: window.innerHeight/4, angle: 0 }, 3, Math.PI/3);
			drawFractal(context, line, alphabet);
		}

		function showDragon() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForDragon(), "FX", 14);
			let alphabet = buildDictionaryWithActions(context, {x: window.innerWidth/2, y: window.innerHeight/2, angle: 0 }, 3, Math.PI/2);
			drawFractal(context, line, alphabet);
		}

		function showHosper() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForHosper(), "FL", 6);
			let alphabet = buildDictionaryWithActions(context, {x: window.innerWidth/4*3, y: window.innerHeight/4*3, angle: 0 }, 2, Math.PI/3);
			drawFractal(context, line, alphabet);
		}

		function showSierpinski() {
			context.clearRect(0, 0, window.innerWidth, window.innerHeight);
			let line = buildLineFromLsystem(getDictonaryForSierpinski(), "A", 8);
			line = line.replace(new RegExp('A', 'g'), 'F');
			line = line.replace(new RegExp('B', 'g'), 'F');
			let alphabet = buildDictionaryWithActions(context, {x: window.innerWidth/4, y: window.innerHeight/4, angle: 0 }, 2, Math.PI/3);
			drawFractal(context, line, alphabet);
		}

		function main() {
			let canvas = document.getElementById("canvas");
			canvas.setAttribute("Width", window.innerWidth);
+			canvas.setAttribute("Height", window.innerHeight);

			context = canvas.getContext('2d');
			showBush();
		}
	</script>

<body onload="main()" style="overflow: hidden">
	<button onClick = "showBush()">Куст</button>
	<button onClick = "showSnowflake()">Снежинка</button>
	<button onClick = "showKoch()">Снежинка коха</button>
	<button onClick = "showDragon()">Дракон Хартера-Хейтвея</button>
	<button onClick = "showHosper()">Кривая Госпера</button>
	<button onClick = "showSierpinski()">Кривая Серпинского</button>
  	<canvas height='2000' width='2000' id='canvas'></canvas>
</body>
</html>